<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Code Editor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="codemirror\lib\codemirror.css">
    <link rel="stylesheet" href="codemirror\theme\dracula.css">

    <script src="codemirror\lib\codemirror.js"></script>
    <script src="codemirror\addon\edit\closebrackets.js"></script>
    <!-- Modes -->
    <script src="codemirror\mode\clike\clike.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/java/java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>



</head>

<body>

    <div class="row m-3 ">
        <div class="col ">
            <nav class="bg-dark p-2 mb-2 rounded">
                <div class="d-flex justify-content-between ">

                    <div class="col-auto w-25  ">
                        <label class="visually-hidden" for="autoSizingSelect">Preference</label>
                        <select class="form-select" id="chooseLanguage">
                            <option value="">Choose...</option>
                            <option value="C">C</option>
                            <option value="Cpp">C++</option>
                            <option value="CSharp">C#</option>
                            <option value="Java">Java</option>
                            <option value="JavaScript">JavaScript</option>
                            <option value="Python">Python</option>
                        </select>
                    </div>
                    <div>
                        <!-- <button type="button" class="btn btn-success">Success</button>
                        <button type="button" class="btn btn-success">Success</button> -->
                        <button type="button" class="btn btn-success ">
                            <i class="bi bi-play"></i>
                        Run
                    </button>
                    </div>


                </div>

            </nav>

            <textarea type="text" id="editor" class="form-control" aria-label="First name"></textarea>
        </div>


        <!-- Right Side Input / Output -->
        <div class="col d-flex flex-column rounded bg-dark p-3">
            <div class="h-50">
                <label for="Input" class="text-light">Input</label>
                <textarea type="text" class="form-control h-75" aria-label="Last name"></textarea>

            </div>

            <div class="h-50">
                <label for="Output" class="text-light">Output</label>
                <textarea type="text" class="form-control h-75" aria-label="Last name"></textarea>
            </div>
        </div>

    </div>


    <script>

        function textEditorArea() {
            return {
                mode: "text/x-c++src",  // default mode
                theme: "dracula",
                lineNumbers: true,
                autoCloseBrackets: true
            };
        }

        function setMode() {
            const language = languageOption.value;
            let mode;

            switch (language) {
                case "Cpp":
                    mode = "text/x-c++src";
                    break;
                case "C":
                    mode = "text/x-csrc";
                    break;
                case "Java":
                    mode = "text/x-java";
                    break;
                case "JavaScript":
                    mode = "text/javascript";
                    break;
                case "Python":
                    mode = "text/x-python";
                    break;
                case "CSharp":
                    mode = "text/x-csharp";
                    break;
                default:
                    mode = "";
            }

            editor.setOption("mode", mode);
        }

        let editor = CodeMirror.fromTextArea(document.getElementById("editor"), textEditorArea());


        let languageOption = document.getElementById("chooseLanguage");
        languageOption.addEventListener("change", setMode);

        // Adjust the editor size
        let width = window.innerWidth * 0.7;
        editor.setSize(width, "500");


    </script>
</body>

</html>